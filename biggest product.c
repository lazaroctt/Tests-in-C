#include <stdio.h>
#include <stdlib.h>
#include <windows.h>

////////////////////////////////////////////////////////////////////////////
//
//                         PROGRAMA MAIOR PRODUTO
//
//     OBJETIVO:  Dada uma sequência de inteiros de tamanho arbitrario
//                encontrar o maior produto de 5 dígitos consecutivos
//
////////////////////////////////////////////////////////////////////////////

// LINK YOUTUBE
// https://pt.stackoverflow.com/questions/157898/como-destacar-texto-mudar-cor-em-c-ansi


typedef enum{BLACK,BLUE,GREEN,CYAN,RED,MAGENTA,BROWN,LIGHTGRAY,DARKGRAY,
LIGHTBLUE,LIGHTGREEN,LIGHTCYAN,LIGHTRED,LIGHTMAGENTA,YELLOW,WHITE} COLORS;

static int __BACKGROUND = BLACK;
static int __FOREGROUND = LIGHTGRAY;

//==========================================================================

void textcolor (int color)
{
    __FOREGROUND = color;
    SetConsoleTextAttribute (GetStdHandle (STD_OUTPUT_HANDLE),
    color + (__BACKGROUND << 4));
}

//========================================================================
//=================      PROGRAMA PRINCIPAL       ========================
//========================================================================

int main()
{
    char *sequencia;
    unsigned int produto;
    unsigned int maior_produto=0;
    int pos;
    int k,i;
    int v[5];

 // sequencia = "97316717653133062491922511967442657474235534919493496983520312774506326239578318016984801869478851843858615607891129494954595017379583319528532088055111254069874715852386305071569329096329522744304355766896648950445244523161731856403098711121722383113622298934233803081353362766142828064444866452387493035890729629049156044077239071381051585930796086670172427121883998797908792274921901699720888093776657273330010533678812202354218097512545405947522435258490771167055601360483958644670632441572215539753697817977846174064955149290862569321978468622482839722413756570560574902614079729686524145351004748216637048440319989000889524345065854122758866688116427171479924442928230863465674813919123162824586178664583591245665294765456828489128831426076900422421902267105562632111110937054421750694165896040807198403850962455444362981230987879927244284909188845801561660979191338754992005240636899125607176060588611646710940507754100225698315520005593572972571636269561882670428252483600823257530420752963450";

    sequencia = "984762098738937273838377747777777777777383829994746587889399200088754756757773222222333333333334447578874883274892829387290841730981734091873409183741098347129083471938471093871390481730948173409817340912873409187340918374901283749018374190837419083741903712938471903871903871903487190384710938471093871903879087907908798798798798709870987098709870987098701987309418730941837409183741093847190384710938471903847190384719038471390871390481739041873491238741923847190234871934871391873491283741938471903847193847193481734918237490183741908749018719087349018734901873490183749018374918374091837409183740918374109837401983741098374190837490183749018374901837491837490183749018374190837491083749018374981739487193847198374981739481739487132984719038749018374901873491873490187340981734901873490187394187349018734918734901873490187340918734901837901287349018734091873904817239041872349081723904871903874190387419038741903874190387419028374910837491837419837419083741908374901837410983749018374091873490187349018739408173492873498710987340918734901872349018732477777777777777777777777777777777777777777879348710938741098751908457239048572390456239048579387575478374983749837091847591287490281740918749018745918739018739012837419028347120938471290384712093847120938471029384710923847109832740987409857634095876309456730958709638457639087563098763987560398756098374059867398756389";

    //sequencia = "2222339909922276";       // sequencia pequena para teste

    k = -1;

    do{
        k = k+1;
        produto = 1;                              // inicializa produto
        for (i=0; i<5; i++){
            v[i] = (int)sequencia[i+k];           // gera código ASCII do caractér
            v[i] = v[i]-48;                       // obter valor numérico inteiro
            produto = produto*v[i];
        }
        if (produto > maior_produto){             // atualiza maior produto e salva posição
            maior_produto = produto;
            pos = k;
        }
    }
    while(sequencia[k+5] != '\0');                // repete enquanto não encontra final da sequencia de caracteres

    printf("\nO maior produto eh : %u", maior_produto);
    printf("\nPosicao = %d ", pos+1);
    printf("\nTotal de digitos da sequencia = %d ", k+5);

    printf("\n\n");

    for (i=0; i<pos; i++){                        // imprime com cores
        textcolor(BLUE);
        printf("%c",sequencia[i]);
    }
    for (i=pos; i<pos+5; i++){
        textcolor(WHITE);
        printf("%c",sequencia[i]);
    }
    for (i=pos+5; i<k+5; i++){
        textcolor(BLUE);
        printf("%c",sequencia[i]);
    }

    printf("\n\n");

    textcolor(WHITE);

    return 0;
}
//==========================================================================
